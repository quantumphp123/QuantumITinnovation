var quform=function(n,a,i){"use strict";var s,o,r=[],e={},d=a(document),c=null;function t(){this.items={}}return s={settingWrap:".qfb-setting",settingInputWrap:".qfb-setting-input",subSettingWrap:".qfb-sub-setting",subSettingInputWrap:".qfb-sub-setting-input",init:function(){(o=a('<div class="qfb-fixed-message"><div><div class="qfb-fixed-message-content"></div><span class="qfb-fixed-message-close"><i class="mdi mdi-close"></i></span></div></div>')).find(".qfb-fixed-message-close").click(function(){o.fadeOut("fast",function(){o.detach()})}),s.initNavPopups()},initNavPopups:function(){var o=a(".qfb-nav-popup-trigger");o.each(function(){var t=a(this),n=t.siblings(".qfb-nav-popup-content"),e="qfb-nav-popup-open",i=function(n){(n?o.not(n):o).removeClass(e).siblings(".qfb-nav-popup-content").hide()};t.click(function(){i(t);var n=t.hasClass(e);t[n?"removeClass":"addClass"](e).siblings(".qfb-nav-popup-content")[n?"hide":"show"]()}),t.add(n).click(s.stopPropagation),d.on("click",function(){i()})})},stopPropagation:function(n){n.stopPropagation()},preLoadImages:function(n,t){for(var e=0;e<n.length;e++){var i=new Image;i.src=t?t+n[e]:n[e],r.push(i)}},showFixedMessage:function(n,t,e,i){"number"==typeof c&&(clearTimeout(c),c=null),void 0===e&&(e="success"==t?4e3:0),void 0===i&&(i=0==e),o.find(".qfb-fixed-message-content").html(n),o.find(".qfb-fixed-message-close")[i?"show":"hide"](),o.stop(!0,!0).appendTo(s.cache.get("body")).css({display:"block",opacity:0,right:-o.width()}).attr("class","qfb-fixed-message").addClass("qfb-fixed-"+t+"-message").animate({opacity:1,right:0}),e&&(c=setTimeout(function(){o.fadeOut(function(){o.detach()})},e))},sanitiseResponse:function(n){return null!==n&&"object"==typeof n&&"string"==typeof n.type&&0!==n.type.length||(n={type:"invalid",message:"The response from the server was invalid or malformed"}),n},isValidEmail:function(n){return new RegExp("^[A-Za-z0-9!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9-]+(.[A-Za-z0-9-]+)*$").test(n)},addValidationError:function(n,t){var e=a('<div class="qfb-validation-error">').append(a('<div class="qfb-validation-error-inner">').html(t));return n.append(e),e.qfbSlideShow(),e},addSubmissionError:function(n,t){var e=a('<div class="qfb-submission-error">').append(a('<div class="qfb-submission-error-inner">').html(t));return n.prepend(e),e.qfbSlideShow(),e},log:function(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)},addAction:function(n,t){"string"==typeof n||n.length||"function"==typeof t?("undefined"==typeof e[n]&&(e[n]=[]),e[n].push(t)):s.log("Invalid arguments for addAction, aborting")},doAction:function(n){if("string"==typeof n||n.length){if("undefined"!=typeof e[n])for(var t=0;t<e[n].length;t++)e[n][t].apply(e[n][t],arguments.splice(1))}else s.log("Invalid argument for doAction, aborting")},getProperty:function(n,t,e){for(var i=t.split("."),o=i.length,s=0,r=n;s<o;s++){if("undefined"===a.type(r[i[s]])){r=undefined;break}r=r[i[s]]}return"undefined"===a.type(r)?e:r},scrollTo:function(n,t,e){if(a.isFunction(a.scrollTo)&&a.isFunction(a.fn.scrollTo)&&n&&0!==n.length){e=a.extend({},{duration:400,offset:-50,axis:"y"},e),t?s.isScrolledIntoView(n,t)||t.scrollTo(n,e):s.isScrolledIntoView(n)||a.scrollTo(n,e)}},isScrolledIntoView:function(n,t){if(t){var e=t.outerHeight();o=(i=n.position().top)+n.outerHeight(!0);return 0<i&&o<e}var i,o,s=a(window).scrollTop(),r=s+a(window).height();return s<=(o=(i=n.offset().top)+n.height())&&i<=r&&o<=r&&s<=i},setSelectVal:function(n,t){return n.val(t),null===n.val()&&n.prop("selectedIndex",0),n},toString:function(n){return n===undefined||null===n?"":""+n},isNonEmptyString:function(n){return"string"==typeof n&&0<n.length},isNonEmptyObject:function(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1},clamp:function(n,t,e){return Math.min(Math.max(n,t),e)},htmlEntities:function(n){return a("<div>").text(n).html()},htmlEntityDecode:function(n){return a("<div>").html(n).text()},isColorTransparent:function(n){if(!s.isNonEmptyString(n))return!0;if("transparent"==n)return!0;var t=/rgba\((.+)\)/gi.exec(n);if(t){var e=t[1].split(",");return 4==e.length&&0===parseFloat(e[3])}return!1}},a.fn.qfbMediaBrowser=function(n){var t={mediaOptions:{title:i.selectImage,button:{text:i.select},multiple:!1},callback:a.noop,onOpen:a.noop,onClose:a.noop},e=a.extend(!0,{},t,n);return this.each(function(){var n=a(this);n.data("qfbMediaBrowser")||n.data("qfbMediaBrowser",new function(n,t){var e;n.click(function(){return e||((e=wp.media(t.mediaOptions)).on("select",function(){t.callback.apply(this,[e.state().get("selection")])}),e.on("close",function(){t.onClose.apply(this)})),t.onOpen.apply(this),e.open(),!1})}(n,e))})},a.fn.extend({qfbSlideHide:function(n,t){var e={height:"hide",opacity:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},i={duration:400};return n&&(i.complete=n),t&&(e=a.extend(e,t)),this.animate(e,i)},qfbSlideShow:function(n,t){var e={height:"show",opacity:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},i={duration:400};return n&&(i.complete=n),t&&(e=a.extend(e,t)),this.animate(e,i)}}),t.prototype.get=function(n){return this.items[n]===undefined&&(this.items[n]=a(n)),this.items[n]},s.cache=new t,a(s.init),n.core=s,n}(quform||{},jQuery,quformCoreL10n);