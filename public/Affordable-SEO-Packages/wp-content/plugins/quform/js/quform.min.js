!function(h){"use strict";var e;e=function(){function d(e,t){if(this.$form=h(e),this.submitted=!1,this.nextUploadId=1,this.removedUploadUids=[],this.captchaRefreshQueue=[],this.uploadQueue=[],this.uploadElements=[],this.logicCache={},!this.$form.length)throw new Error("Form not found.");if(this.$form.data("quform"))throw new Error("Quform already attached.");this.$form.data("quform",this),this.options=h.extend({},d.defaults,t),h.isFunction(h.scrollTo)&&h.isFunction(h.fn.scrollTo)||(this.options.scrolling=!1),this.$wrapper=this.$form.closest(".quform"),this.$elements=h(".quform-elements",this.$form),this.$loading=h(".quform-loading",this.$form),this.currentPageId=this.options.currentPageId,this.submitStartTime=0,this.submitEndTime=0,this.successTimeout=null,this.errorShowFunction=this.$wrapper.hasClass("quform-errors-absolute")?"fadeIn":"quformShowSlide",this.init()}return d.defaults={errorsIcon:"",scrolling:!0,scrollSpeed:800,scrollDelay:0,scrollOffset:-50,hasPages:!1,pages:[],logic:{logic:[],dependents:[],elementIds:[],dependentElementIds:[],animate:!0}},d.prototype.init=function(){var s=this;this.setupInsideLabels(),this.setupEnhancedSelects(),this.setupEnhancedUploaders(),this.setupDatepickers(),this.setupTimepickers(),this.applyAllLogic(!0),this.setupTooltips(),this.setupCaptchaImages(),this.$wrapper.hasClass("quform-prevent-fouc")&&this.$wrapper.removeClass("quform-prevent-fouc"),this.options.ajax&&(s.$form.on("submit",function(e){if(e.preventDefault(),window.grecaptcha){var t=s.$form.find(".quform-recaptcha");if(t.length)if("invisible"==t.data("config").size)return void window.grecaptcha.execute(t.data("recaptcha-id"))}s.submit()}),h(".quform-back",s.$form).on("click",function(e){e.preventDefault(),s.submit("back")})),h(".quform-field-select.quform-submit-on-choice",s.$form).change(function(){s.$form.submit()}),h(".quform-field-radio.quform-submit-on-choice",s.$form).click(function(){s.$form.submit()}),h(".quform-button-submit > button",s.$form).each(function(){var e,t,o=h(this),i=o.closest(".quform-button-submit"),r=i.data("animation"),n=1e3,a=s.options.scrollDelay;r&&(e="quform-button-animation-"+r,"two"==r&&(n=3200),o.click(function(){s.options.scrollDelay=n,i.removeClass(e),"number"==typeof t&&(clearTimeout(t),t=null),setTimeout(function(){i.addClass(e),t=setTimeout(function(){i.removeClass(e),s.options.scrollDelay=a},n)},4)}))})},d.prototype.setupInsideLabels=function(){h.InFieldLabels?h(".quform-labels-inside > .quform-spacer > .quform-label",this.$form).each(function(){var e=h(this),t=e.parent().find(".quform-input"),o=t.find(".quform-field");e.addClass("quform-label-inside").css({top:parseInt(o.css("padding-top"),10)+parseInt(o.css("border-top-width"),10),left:parseInt(o.css("padding-left"),10)+parseInt(o.css("border-left-width"),10)}).prependTo(t),new h.InFieldLabels(e[0],o[0])}):h(".quform-labels-inside > .quform-spacer > .quform-label",this.$form).show()},d.prototype.setupEnhancedSelects=function(){if("function"==typeof h.fn.select2){var r=this;h(".quform-field-select-enhanced",r.$form).each(function(){var e=h(this),t=e.data("options"),o={theme:"quform",language:{noResults:function(){return t.noResultsFound}}};t.search||(o.minimumResultsForSearch=Infinity),t.rtl&&(o.dir="rtl"),e.select2(o);var i="quform-"+r.options.id+"-select2";d.isNonEmptyString(r.options.theme)&&(i+=" quform-theme-"+r.options.theme),e.on("select2:opening",function(){e.data("select2").$dropdown.addClass(i)})}),h(".quform-field-multiselect-enhanced",r.$form).each(function(){var e=h(this),t=e.data("options"),o={theme:"quform",language:{noResults:function(){return t.noResultsFound}}};d.isNonEmptyString(t.placeholder)&&(o.placeholder=t.placeholder),t.rtl&&(o.dir="rtl"),e.select2(o);var i="quform-"+r.options.id+"-select2";d.isNonEmptyString(r.options.theme)&&(i+=" quform-theme-"+r.options.theme),e.on("select2:opening",function(){e.data("select2").$dropdown.addClass(i)})})}},d.prototype.setupEnhancedUploaders=function(){if(h.isFunction(h.fn.fileupload)&&h.support.xhrFileUpload&&h.support.xhrFormDataFileUpload){var a=this;h(".quform-field-file-enhanced",a.$form).each(function(){var e,t=h(this),o=t.closest(".quform-input-file"),i=t.data("config"),r=h('<div class="quform-upload-files quform-cf">').insertAfter(o).hide();i.queued=0,a.uploadElements.push(i),e="dropzone"==i.buttonType?a.createUploadButton("quform-upload-dropzone",i):a.createUploadButton("quform-upload-button",i),o.append(e.append(t));var n=t.closest(".quform-element").addClass("quform-enhanced-upload");t.fileupload({dataType:"json",paramName:i.name+"[]",dropZone:e,change:function(){n.find(".quform-error").empty().remove()},add:function(e,t){a.uploadAdd(t,i,r)},start:function(){h(".quform-upload-progress-wrap",a.$form).show()},progress:function(e,t){var o=Math.min(100,t.loaded/t.total*100);h(".quform-upload-progress-bar",a.$form).css("width",o+"%"),h(".quform-upload-filename",a.$form).text(t.files[0].name)}})})}},d.prototype.createUploadButton=function(e,t){var o=h('<div class="'+e+'">');if(o.append(h('<span class="'+e+'-text">').text(t.buttonText)),d.isNonEmptyString(t.buttonIcon)){var i=h('<span class="'+e+'-icon">').append(h('<i class="'+t.buttonIcon+'">'));o.addClass(e+"-icon-"+t.buttonIconPosition),"right"==t.buttonIconPosition?o.append(i):o.prepend(i)}return o},d.prototype.setupDatepickers=function(){if(h.isFunction(h.fn.kendoDatePicker)){var m=this;h(".quform-field-date",m.$form).each(function(){var o=h(this).addClass("quform-field-date-enhanced"),e=o.closest(".quform-input-date"),t=e.find("> .quform-field-icon"),i=o.data("options"),r=h("<input>",{type:"hidden",name:o.attr("name"),value:o.val()}).data("default",o.val()).addClass("quform-field-date-hidden").insertAfter(o);o.attr("name",""),i.placeholder?o.attr("placeholder",i.placeholder):o.removeAttr("placeholder");var n={start:i.start||"month",depth:i.depth||"month",culture:i.locale||"en-US"};if(i.format?n.format=i.format:n.format=kendo.getCulture(i.locale).calendars.standard.patterns.d,i.showFooter||(n.footer=!1),i.min){var a=kendo.parseDate(i.min,"yyyy-MM-dd");null!==a&&(n.min=a)}if(i.max){var s=kendo.parseDate(i.max,"yyyy-MM-dd");null!==s&&(n.max=s)}o.kendoDatePicker(n),o.removeClass("k-input").closest(".k-datepicker").removeClass().addClass("k-widget k-datepicker k-header");var u=o.data("kendoDatePicker"),c="quform-datepicker quform-"+m.options.id+"-datepicker";d.isNonEmptyString(m.options.theme)&&(c+=" quform-theme-"+m.options.theme),u.dateView.popup.element.addClass(c),e.find(".k-select").hide(),i.autoOpen&&o.on("click focus",function(){u.open()}).blur(function(){u.close()}),t.click(function(){u.open()});var l=function(){var e=o.val();if(d.isNonEmptyString(e)){var t=kendo.parseDate(e,n.format,n.culture);null===t?r.val("9999-99-99"):r.val(kendo.toString(t,"yyyy-MM-dd"))}else r.val("")};u.bind("change",l),o.on("blur.quformDatePicker keyup.quformDatePicker",l);var f=o.val();if(d.isNonEmptyString(f)){var p=kendo.parseDate(f,"yyyy-MM-dd");null!==p&&(u.value(p),l())}})}},d.prototype.setupTimepickers=function(){if(h.isFunction(h.fn.kendoTimePicker)){var m=this;h(".quform-field-time",m.$form).each(function(){var o=h(this).addClass("quform-field-time-enhanced"),e=o.closest(".quform-input-time"),t=e.find("> .quform-field-icon"),i=o.data("options"),r=h("<input>",{type:"hidden",name:o.attr("name"),value:o.val()}).data("default",o.val()).addClass("quform-field-time-hidden").insertAfter(o);o.attr("name",""),i.placeholder?o.attr("placeholder",i.placeholder):o.removeAttr("placeholder");var n={interval:i.interval&&h.isNumeric(i.interval)?parseInt(i.interval,10):30,culture:i.locale||"en-US"};if(i.format?n.format=i.format:n.format=kendo.getCulture(i.locale).calendars.standard.patterns.t,i.min){var a=kendo.parseDate(i.min,"HH:mm");null!==a&&(n.min=a)}if(i.max){var s=kendo.parseDate(i.max,"HH:mm");null!==s&&(n.max=s)}o.kendoTimePicker(n),o.removeClass("k-input").closest(".k-timepicker").removeClass().addClass("k-widget k-timepicker k-header");var u=o.data("kendoTimePicker"),c="quform-timepicker quform-"+m.options.id+"-timepicker";d.isNonEmptyString(m.options.theme)&&(c+=" quform-theme-"+m.options.theme),u.timeView.popup.element.addClass(c),e.find(".k-select").hide(),i.autoOpen&&o.on("click focus",function(){u.open()}).blur(function(){u.close()}),t.click(function(){u.open()});var l=function(){var e=o.val();if(d.isNonEmptyString(e)){var t=kendo.parseDate(e,n.format,n.culture);null===t?r.val("99:99"):r.val(kendo.toString(t,"HH:mm"))}else r.val("")};u.bind("change",l),o.on("blur.quformTimePicker keyup.quformTimePicker",l);var f=o.val();if(d.isNonEmptyString(f)){var p=kendo.parseDate(f,"HH:mm");null!==p&&(u.value(p),l())}})}},d.prototype.setupTooltips=function(){if(h.isFunction(h.fn.qtip)&&this.options.tooltipsEnabled){var e={style:{classes:this.options.tooltipClasses},position:{my:this.options.tooltipMy,at:this.options.tooltipAt,viewport:!0,adjust:{method:"shift shift"}}};h(".quform-tooltip-hover",this.$form).qtip(h.extend({},e,{content:{text:function(){return h(this).closest(".quform-input").find("> .quform-tooltip-content").html()}}})),h(".quform-tooltip-click",this.$form).qtip(h.extend({},e,{show:{event:"focus"},hide:{event:"unfocus"},content:{text:function(){return h(this).closest(".quform-input").find("> .quform-tooltip-content").html()}}})),h(".quform-tooltip-icon-hover",this.$form).qtip(h.extend({},e,{content:{text:function(){return h(this).find(".quform-tooltip-icon-content").html()}}})),h(".quform-tooltip-icon-click",this.$form).qtip(h.extend({},e,{show:{event:"click"},hide:{event:"unfocus"},content:{text:function(){return h(this).find(".quform-tooltip-icon-content").html()}}})),h(".quform-labels-inside > .quform-spacer > .quform-inner > .quform-input > .quform-label",this.$form).hover(function(){h(this).siblings(".quform-tooltip-hover").qtip("show")},function(){h(this).siblings(".quform-tooltip-hover").qtip("hide")})}},d.prototype.setupCaptchaImages=function(){var e=this;h(".quform-captcha-image img",this.$form).hover(function(){h(this).stop().fadeTo(400,"0.3")},function(){h(this).stop().fadeTo(400,"1.0")}).click(function(){e.captchaRefreshQueue.push(h(this)),e.processCaptchaRefreshQueue()})},d.prototype.processCaptchaRefreshQueue=function(t){var o=this;if(o.captchaRefreshQueue.length){var i=o.captchaRefreshQueue.shift();h.ajax({type:"GET",url:quformL10n.ajaxUrl,dataType:"json",data:{action:"quform_regenerate_captcha",quform_form_id:o.options.id,quform_unique_id:o.options.uniqueId,quform_element_id:i.data("element-id")}}).done(function(e){"success"===(e=d.sanitiseResponse(e)).type&&i.attr("src",e.image).animate({opacity:1}),o.captchaRefreshQueue.length?o.processCaptchaRefreshQueue(t):"function"==typeof t&&t.call(o)})}else"function"==typeof t&&t.call(o)},d.prototype.applyAllLogic=function(e){this.logicCache={},this.options.logic.elementIds.length&&(this.applyLogic(this.options.logic.elementIds,e),e&&this.applyDependentLogic(this.options.logic.dependentElementIds))},d.prototype.applyLogic=function(e,t){for(var o=0,i=e.length;o<i;o++)this.applyElementLogic(e[o],t)},d.prototype.applyElementLogic=function(e,t){if(this.options.logic&&this.options.logic.logic){var o=this.options.logic.logic[e];if(o&&o.rules&&o.rules.length){for(var i=0,r=o.action,n=this.options.id+"_"+e,a=0;a<o.rules.length;a++)this.isLogicRuleMatch(o.rules[a])&&i++;"any"==o.match&&0<i||"all"==o.match&&i==o.rules.length||(r=!r);var s=this,u=h(".quform-element-"+n,s.$form),c=r?"show":"hide";!t&&this.options.logic.animate?u.animate({opacity:c,height:c,marginTop:c,marginBottom:c,paddingTop:c,paddingBottom:c},{duration:400,complete:function(){s.updateFancybox()}}):(u[c](),t||s.updateFancybox())}}},d.prototype.applyDependentLogic=function(e){if(this.options.logic&&this.options.logic.dependents)for(var r=this,t=0,o=e.length,i=function(e,t,o,i){e.on(t,function(){r.logicCache[i]=[],setTimeout(function(){r.applyLogic(o)},0)})};t<o;t++){var n,a=this.options.logic.dependents[e[t]],s=this.options.id+"_"+e[t],u=h(".quform-field-"+s,this.$form);if(u.length)u.is("select")||u.is('input[type="checkbox"]')||u.is('input[type="radio"]')||u.is('input[type="hidden"]')?n="change.quform":u.is('textarea, input[type="text"], input[type="email"], input[type="password"]')&&(n="keyup.quform blur.quform",(u.hasClass("quform-field-date-enhanced")||u.hasClass("quform-field-time-enhanced"))&&(n="change.quform")),n&&i(u,n,a,s)}},d.prototype.isLogicRuleMatch=function(e){var t=this.options.id+"_"+e.elementId;if(h.isArray(this.logicCache[t])){if(this.logicCache[t].length)for(var o=0,i=this.logicCache[t].length;o<i;o++)if(this.logicCache[t][o].operator===e.operator&&this.logicCache[t][o].value===e.value)return this.logicCache[t][o].result}else this.logicCache[t]=[];var r,n,a=h(".quform-field-"+t,this.$form);if(a.length){if(a.is('select:not([multiple]), input[type="hidden"], textarea, input[type="text"], input[type="email"], input[type="password"]')){var s=a.val();return a.hasClass("quform-field-date-enhanced")?(n="date",s=a.closest(".quform-input").find(".quform-field-date-hidden").val()):a.hasClass("quform-field-time-enhanced")&&(n="time",s=a.closest(".quform-input").find(".quform-field-time-hidden").val()),r=this.isLogicValueMatch(s,e,n),this.logicCache[t].push({value:e.value,result:r}),r}if(a.is('input[type="checkbox"]')||a.is('input[type="radio"]')){var u=this;return r=!1,h.each(a,function(){if(h(this).is(":checked")&&u.isLogicValueMatch(h(this).val(),e))return r=!0,!1}),this.logicCache[t].push({value:e.value,result:r}),r}if(a.is("select[multiple]")){var c;u=this,s=a.val();if(r=!1,"empty"==e.operator)r=null===s;else if("not_empty"==e.operator)r=null!==s;else if(h.isArray(s))for(c=0;c<s.length;c++)if(u.isLogicValueMatch(s[c],e)){r=!0;break}return this.logicCache[t].push({value:e.value,result:r}),r}}return this.logicCache[t].push({value:e.value,result:!1}),!1},d.prototype.isLogicValueMatch=function(e,t,o){switch("string"!=typeof e&&(e=""),t.operator){case"eq":return e===t.value;case"neq":return e!==t.value;case"empty":return""===e;case"not_empty":return""!==e;case"gt":return"date"==o?1===d.compareDates(e,t.value):"time"==o?1===d.compareTimes(e,t.value):h.isNumeric(e)&&h.isNumeric(t.value)&&parseFloat(e)>parseFloat(t.value);case"lt":return"date"==o?-1===d.compareDates(e,t.value):"time"==o?-1===d.compareTimes(e,t.value):h.isNumeric(e)&&h.isNumeric(t.value)&&parseFloat(e)<parseFloat(t.value);case"contains":return-1!==e.indexOf(t.value);case"starts_with":return 0===e.indexOf(t.value);case"ends_with":return-1!==e.indexOf(t.value,t.value.length)}return!1},d.prototype.uploadAdd=function(e,i,r){var n=this,t=e.files[0];if(i.max&&i.queued===i.max)this.addElementError(i.identifier,i.tooMany.replace("%max%",i.max))[this.errorShowFunction]();else if(!i.allowedExtensions||d.isValidFile(t,i.allowedExtensions))if(i.size&&t.size>i.size)this.addElementError(i.identifier,i.tooBigWithFilename.replace("%filename%",t.name))[this.errorShowFunction]();else{var o=this.nextUploadId++;e.formData={quform_ajax_uploading:1,quform_form_id:this.options.id,quform_form_uid:this.options.uniqueId,quform_element_id:i.id,quform_element_identifier:i.identifier,quform_upload_id:o},this.uploadQueue.push(e),i.queued++;var a=e.context=h('<div class="quform-upload-file">').data("quform-upload-id",o);h('<span class="quform-upload-file-name">').text(t.name).appendTo(a),h('<span class="quform-upload-file-remove">').attr("title",quformL10n.removeFile).click(function(){for(var e=h(this).closest(".quform-upload-file"),t=e.data("quform-upload-id"),o=n.uploadQueue.length;o--;)n.uploadQueue[o].formData.quform_upload_id==t&&n.uploadQueue.splice(o,1);e.data("quform-upload-uid")&&n.removedUploadUids.push(e.data("quform-upload-uid")),e.remove(),0===r.children().length&&r.hide(),i.queued--}).appendTo(a),r.append(a).show()}else this.addElementError(i.identifier,i.notAllowedTypeWithFilename.replace("%filename%",t.name))[this.errorShowFunction]()},d.prototype.processUploadQueue=function(){var t=this,o=t.uploadQueue.shift();o.submit().done(function(e){"success"==(e=d.sanitiseResponse(e)).type?(o.context.addClass("quform-uploaded").prepend(h('<span class="quform-upload-tick"><i class="qicon-check">')).data("quform-upload-uid",e.uid),t.uploadQueue.length?t.processUploadQueue():(h(".quform-upload-progress-wrap",t.$form).hide(),t.submitted=!1,t.submit())):t.uploadError(o,e.message)}).fail(function(){t.uploadError(o,quformL10n.ajaxError)})},d.prototype.uploadError=function(e,t){h(".quform-upload-progress-wrap",this.$form).hide(),this.uploadQueue.unshift(e),this.allowResubmission(),this.addElementError(e.formData.quform_element_identifier,t)[this.errorShowFunction](),this.scrollTo(h(".quform-element-"+e.formData.quform_element_identifier,this.$form))},d.prototype.submit=function(e){var t=this;if(!t.submitted)if(t.submitStartTime=d.timeNow(),t.submitted=!0,e="back"==e?"back":"submit",t.$form.trigger("quform:submit",[t,e]),t.$loading.fadeIn().addClass("quform-loading-triggered"),"submit"==e&&this.uploadQueue.length)t.processUploadQueue();else{var o={quform_ajax:1,quform_submit:e,quform_removed_upload_uids:t.removedUploadUids.join(",")};t.$form.ajaxSubmit({type:"POST",data:o,dataType:"json",iframe:!0,url:"",success:function(e){switch(t.submitEndTime=d.timeNow(),(e=d.sanitiseResponse(e)).type){case"success":t.responseSuccess(e.confirmation);break;case"error":t.responseError(e);break;case"page":t.allowResubmission(),t.goToPage(e.page);break;case"invalid":t.responseInvalid(e)}},error:function(){t.submitEndTime=d.timeNow(),t.responseInvalid({message:quformL10n.ajaxError})}})}},d.prototype.responseSuccess=function(e){var t=this;t.$form.trigger("quform:successStart",[t,e]),t.$loading.addClass("quform-loading-success");var o=function(){switch(e.type){case"message":t.reset(e.resetForm),t.showSuccessMessage(e);break;case"message-redirect-page":case"message-redirect-url":t.showSuccessMessage(e),setTimeout(function(){window.location=e.redirectUrl},1e3*parseFloat(e.redirectDelay));break;case"redirect-page":case"redirect-url":window.location=e.redirectUrl;break;case"reload":window.location.reload()}};e.hideForm?t.$elements.quformHideSlide(function(){o()}):o()},d.prototype.showSuccessMessage=function(e){var t=this,o=h('<div class="quform-success-message-animate">').hide(),i=h('<div class="quform-success-message quform-success-message-'+t.options.id+'">').appendTo(o);d.isNonEmptyString(e.messageIcon)&&i.addClass("quform-success-message-has-icon").append('<div class="quform-success-message-icon"><i class="'+e.messageIcon+'"></i></div>'),i.append(h('<div class="quform-success-message-content">').html(e.message)),o["below"==e.messagePosition?"insertAfter":"insertBefore"](t.$elements).quformShowSlide(),setTimeout(function(){t.scrollTo(o)},t.getScrollDelay());var r=1e3*parseFloat(e.messageTimeout);0<r&&(t.successTimeout=setTimeout(function(){o.quformHideSlide(function(){t.updateFancybox()})},r))},d.prototype.responseError=function(e){var i=this,r=null,t=!1;i.$form.trigger("quform:errorStart",[i,e]),i.allowResubmission(),"object"==typeof e.error&&null!==e.error&&e.error.enabled&&"string"==typeof e.error.content&&e.error.content.length&&(i.errorMessage(e.error.content,e.error.title),t=!0),h.each(e.errors,function(e,t){var o=h(".quform-element-"+e,i.$form);o.length&&(i.addElementError(e,t),r||(r=o))}),i.options.hasPages&&e.page!==i.currentPageId&&i.goToPage(e.page),h(".quform-error",i.$form)[this.errorShowFunction](),!t&&r&&setTimeout(function(){i.scrollTo(r)},i.getScrollDelay()),i.updateFancybox(),i.$form.trigger("quform:errorEnd",[i,e])},d.prototype.responseInvalid=function(e){this.allowResubmission(),this.errorMessage(e.message,quformL10n.errorMessageTitle)},d.prototype.goToPage=function(e){var t=h(".quform-page-"+e,this.$form);if(t.length&&1<this.options.pages.length){var o=h.inArray(e,this.options.pages);if(-1<o){this.currentPageId=e,h('input[name="quform_current_page_id"]',this.$form).val(e),h(".quform-current-page",this.$form).hide().removeClass("quform-current-page"),t.show().addClass("quform-current-page"),this.scrollTo(this.$form);var i=Math.round((o+1)/this.options.pages.length*100);"numbers"==this.options.pageProgressType||"percentage"==this.options.pageProgressType?(h(".quform-page-progress-bar",this.$form).width(i+"%"),"numbers"==this.options.pageProgressType?h(".quform-page-progress-text > .quform-page-progress-number",this.$form).text(o+1):h(".quform-page-progress-text > .quform-page-progress-percentage",this.$form).text(i)):"tabs"==this.options.pageProgressType&&(h(".quform-page-progress-tab.quform-current-tab",this.$form).removeClass("quform-current-tab"),h(".quform-page-progress-tab",this.$form).filter(function(){return h(this).data("id")==e}).addClass("quform-current-tab"))}}},d.prototype.allowResubmission=function(){var e=this;e.$loading.removeClass("quform-loading-triggered").fadeOut(function(){e.$loading.removeClass("quform-loading-success")}),h(".quform-error-message, .quform-error, .quform-success-message-animate",e.$form).remove(),h(".quform-has-error",e.$form).removeClass("quform-has-error"),"number"==typeof e.successTimeout&&(clearTimeout(e.successTimeout),e.successTimeout=null),window.grecaptcha&&h(".quform-recaptcha",e.$form).each(function(){try{window.grecaptcha.reset(h(this).data("recaptcha-id"))}catch(e){}}),e.submitted=!1},d.prototype.reset=function(e){var t=this;switch(t.allowResubmission(),e){default:case"":t.$form.resetForm(),h("input.quform-field-date-enhanced",t.$form).each(function(){var e=h(this),t=e.closest(".quform-input").find(".quform-field-date-hidden").data("default"),o=e.data("kendoDatePicker");t=d.isNonEmptyString(t)?kendo.parseDate(t,"yyyy-MM-dd"):null,o.value(t),o.trigger("change"),o.dateView.calendar&&o.dateView.calendar.navigate(null===t?new Date:t)}),h("input.quform-field-time-enhanced",t.$form).each(function(){var e=h(this),t=e.closest(".quform-input").find(".quform-field-time-hidden").data("default"),o=e.data("kendoTimePicker");t=d.isNonEmptyString(t)?kendo.parseDate(t,"HH:mm"):null,o.value(t),o.trigger("change")}),h(".quform-field-hidden",t.$form).each(function(){var e=h(this);e.val(e.data("default")).change()});break;case"clear":t.$form.clearForm(),h("select",t.$form).each(function(){h(this).prop("selectedIndex",0)}),h("input.quform-field-date-enhanced",t.$form).each(function(){var e=h(this).data("kendoDatePicker");e.value(null),e.trigger("change"),e.dateView.calendar&&e.dateView.calendar.navigate(new Date)}),h("input.quform-field-time-enhanced",t.$form).each(function(){var e=h(this).data("kendoTimePicker");e.value(null),e.trigger("change")}),h(".quform-field-hidden",t.$form).val("").change();break;case"keep":}h(".quform-captcha-image img",t.$form).each(function(){t.captchaRefreshQueue.push(h(this))}),t.processCaptchaRefreshQueue(),h('input[type="text"], input[type="email"], textarea',t.$form).blur(),t.applyAllLogic(),h(".quform-field-select-enhanced, .quform-field-multiselect-enhanced",t.$form).trigger("change"),t.removedUploadUids=[],h(".quform-upload-files",t.$form).empty().hide();for(var o=0,i=t.uploadElements.length;o<i;o++)t.uploadElements[o].queued=0;h('input[type="file"]',t.$form).each(function(){var e=h(this);e.replaceWith(e.val("").clone(!0))}),h(".qtip").hide(),t.options.hasPages&&t.goToPage(t.options.pages[0])},d.prototype.errorMessage=function(e,t){var o=this,i=h('<div class="quform-error-message">').hide(),r=h('<div class="quform-error-message-inner">');"string"==typeof t&&t.length&&r.append(h('<div class="quform-error-message-title">').html(t)),r.append(h('<div class="quform-error-message-content">').html(e)).appendTo(i),o.$elements.prepend(i),i.quformShowSlide(),setTimeout(function(){o.scrollTo(i)},o.getScrollDelay())},d.prototype.addElementError=function(e,t){var o=h('<div class="quform-error quform-cf">'),i=h('<div class="quform-error-inner">').appendTo(o);if(d.isNonEmptyString(this.options.errorsIcon)&&i.append(h('<span class="quform-error-icon">').append('<i class="'+this.options.errorsIcon+'"></i>')),i.append(h('<span class="quform-error-text">').html(t)),this.$wrapper.hasClass("quform-errors-absolute")){var r=h('<span class="quform-error-close">').append('<i class="qicon-close">');r.click(function(){h(this).closest(".quform-error").fadeOut()}),i.append(r)}return h(".quform-element-"+e,this.$form).addClass("quform-has-error"),h(".quform-input-"+e,this.$form).after(o),o},d.prototype.scrollTo=function(e){if(this.options.scrolling&&e&&e.length){var t=this.getScrollElement();t?t.scrollTo(e,this.options.scrollSpeed,{axis:"y",offset:this.options.scrollOffset}):d.isScrolledIntoView(e)||h.scrollTo(e,this.options.scrollSpeed,{axis:"y",offset:this.options.scrollOffset})}},d.prototype.getScrollDelay=function(){return 0<this.options.scrollDelay?d.clamp(this.options.scrollDelay-(this.submitEndTime-this.submitStartTime),0,3200):0},d.prototype.getScrollElement=function(){var e=null;return this.$form.closest(".fancybox-inner").length?e=this.$form.closest(".fancybox-inner"):this.$form.closest("#fancybox-content").length?this.$form.closest(".quform").hasClass("quform-custom-height")&&(e=this.$form.closest("#fancybox-content > div")):this.$form.closest(".mfp-wrap").length&&(this.$form.closest(".quform").hasClass("quform-max-height")?e=this.$form.closest(".quform"):h.magnificPopup&&h.magnificPopup.instance&&h.magnificPopup.instance.fixedContentPos&&(e=this.$form.closest(".mfp-wrap"))),e},d.prototype.updateFancybox=function(){var e;this.options.updateFancybox&&h.isFunction(h.fn.fancybox)&&h.fancybox&&(h.fancybox.version?(e=h(".fancybox-wrap")).length&&e.is(":visible")&&h.fancybox.reposition():(e=h("#fancybox-wrap")).length&&e.is(":visible")&&h.fancybox.center())},d.isScrolledIntoView=function(e){var t=h(window).scrollTop(),o=t+h(window).height(),i=e.offset().top,r=i+e.height();return t<=r&&i<=o&&r<=o&&t<=i},d.formatFileSize=function(e){return 1073741824<=e?e=Math.round(e/1073741824*10)/10+" GB":1048576<=e?e=Math.round(e/1048576*10)/10+" MB":1024<=e?e=Math.round(e/1024*10)/10+" KB":e+=" bytes",e},(d.preLoadImages=function(e,t){for(var o=0;o<e.length;o++){var i=new Image;i.src=t?t+e[o]:e[o],d.preLoadImages.cache.push(i)}}).cache=[],d.sanitiseResponse=function(e){return null!==e&&"object"==typeof e&&"string"==typeof e.type&&0!==e.type.length||(e={type:"invalid",message:"The response from the server was invalid or malformed"}),e},d.compareDates=function(e,t){if(!d.isNonEmptyString(e)||!d.isNonEmptyString(t))return!1;if(e=kendo.parseDate(e,"yyyy-MM-dd"),t=kendo.parseDate(t,"yyyy-MM-dd"),null===e||null===t)return!1;var o=e.getTime(),i=t.getTime();return o<i?-1:i<o?1:0},d.compareTimes=function(e,t){if(!d.isNonEmptyString(e)||!d.isNonEmptyString(t))return!1;if(e=kendo.parseDate(e,"HH:mm"),t=kendo.parseDate(t,"HH:mm"),null===e||null===t)return!1;var o=e.getTime(),i=t.getTime();return o<i?-1:i<o?1:0},d.isValidFile=function(e,t){var o,i;if(!t.length)return!0;for(o=0,i=t.length;o<i;o++)if(-1!==e.name.toLowerCase().indexOf(t[o].toLowerCase(),e.name.length-t[o].length))return!0;return!1},d.isNonEmptyString=function(e){return"string"==typeof e&&e.length},d.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},d.timeNow=function(){return(new Date).getTime()},d.setupPopupLinks=function(){(h.isFunction(h.fn.fancybox)||h.isFunction(h.fn.magnificPopup))&&h(".quform-popup-link").each(function(){var e=h(this);if(!e.data("quform-processed")){var t,o="#quform-"+e.data("unique-id"),i=h(o),r=e.data("options")||{};h.isFunction(h.fn.fancybox)&&h.fancybox?(h.fancybox.version?(t={type:"inline",wrapCSS:"quform-fancybox-2-popup",href:o,beforeClose:function(){h(".qtip").hide()}},(r.width||r.height)&&("undefined"==typeof r.autoSize&&(r.autoSize=!1),r.width||"undefined"!=typeof r.autoWidth||(r.autoWidth=!0),r.height||"undefined"!=typeof r.autoHeight||(r.autoHeight=!0))):(t={inline:!0,href:o,onStart:function(){h("#fancybox-outer").css("opacity",0),h("#fancybox-wrap").addClass("quform-fancybox-1-popup")},onComplete:function(){window.grecaptcha&&h("#fancybox-content .quform-recaptcha").each(function(){try{window.grecaptcha.reset(h(this).data("recaptcha-id"))}catch(e){}}),h("#fancybox-wrap, #fancybox-content").css({width:"auto"}),h.fancybox.center(0),setTimeout(function(){h("#fancybox-outer").animate({opacity:1},200),h("#fancybox-overlay").css({height:h(document).height()})},1)},onClosed:function(){h("#fancybox-wrap").removeClass("quform-fancybox-1-popup")}},(r.width||r.height)&&"undefined"==typeof r.autoDimensions&&(r.autoDimensions=!1),r.height&&i.addClass("quform-custom-height")),e.fancybox(h.extend({},t,r))):h.isFunction(h.fn.magnificPopup)&&(t={items:{src:i,type:"inline"},mainClass:"quform-magnific-popup"},r.width&&(i.css({maxWidth:h.isNumeric(r.width)?r.width+"px":r.width}),delete r.width),r.height&&(i.css({maxHeight:h.isNumeric(r.height)?r.height+"px":r.height}).addClass("quform-max-height"),delete r.height),e.magnificPopup(h.extend({},t,r)),h.magnificPopup.instance._onFocusIn=function(e){if(h(e.target).hasClass("select2-search__field"))return!0;h.magnificPopup.proto._onFocusIn.call(this,e)}),e.data("quform-processed",!0)}})},d.supportPageCaching=function(){if(quformL10n.supportPageCaching){var e=[];h(".quform-form").each(function(){e.push(h(this).find('input[name="quform_form_uid"]').val())}),e.length&&h.ajax({type:"GET",url:quformL10n.ajaxUrl,dataType:"json",data:{action:"quform_support_page_caching",token:quformL10n.csrfToken,forms:e}}).done(function(n){"success"===(n=d.sanitiseResponse(n)).type&&(h(".quform-form").each(function(){var e=h(this),t=e.data("quform"),o=e.attr("action"),i=e.find('input[name="quform_form_uid"]').val(),r=n.forms[i];e.find('input[name="quform_form_uid"]').val(r),e.find('input[name="quform_csrf_token"]').val(n.token),t.options.uniqueId=r,d.isNonEmptyString(o)&&(o=o.replace(/#quform-(.)+$/,"#quform-"+r),e.attr("action",o)),e.find(".quform-captcha-image img").length&&d.captchaRefreshFormQueue.push(t)}),d.captchaRefreshFormQueue.length&&d.processCaptchaRefreshFormQueue())})}},d.captchaRefreshFormQueue=[],d.processCaptchaRefreshFormQueue=function(){if(d.captchaRefreshFormQueue.length){var e=d.captchaRefreshFormQueue.shift();h(".quform-captcha-image img",e.$form).each(function(){e.captchaRefreshQueue.push(h(this))}),e.processCaptchaRefreshQueue(function(){d.captchaRefreshFormQueue.length&&d.processCaptchaRefreshFormQueue()})}},d}(),window.Quform=e,h.fn.extend({quform:function(){return this.each(function(){return new e(this,h(this).data("options")||{})})},quformHideSlide:function(e,t){var o={height:"hide",opacity:"hide",marginTop:"hide",marginBottom:"hide",paddingTop:"hide",paddingBottom:"hide"},i={duration:400};return e&&(i.complete=e),t&&(o=h.extend(o,t)),this.animate(o,i)},quformShowSlide:function(e,t){var o={height:"show",opacity:"show",marginTop:"show",marginBottom:"show",paddingTop:"show",paddingBottom:"show"},i={duration:400};return e&&(i.complete=e),t&&(o=h.extend(o,t)),this.animate(o,i)}}),h(function(){h(".quform-form").quform(),e.setupPopupLinks()}),h(window).on("load",function(){e.supportPageCaching()})}(jQuery);